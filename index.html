<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LA MAYORISTA EXPRESS</title>

<style>
*{box-sizing:border-box}
body{
margin:0;
font-family:system-ui,-apple-system,Segoe UI,Roboto;
background:#f4f6f8;
color:#222;
}
header{
background:#0b8f6a;
color:#fff;
padding:15px;
display:flex;
justify-content:space-between;
align-items:center;
position:sticky;
top:0;
z-index:10;
}
header h1{
margin:0;
font-size:20px;
font-weight:700;
}
header .top{
display:flex;
align-items:center;
gap:12px;
font-size:16px;
}
header button{
background:#fff;
color:#0b8f6a;
border:none;
padding:10px 14px;
border-radius:8px;
font-size:16px;
font-weight:600;
}

section{
background:#fff;
margin:12px;
padding:16px;
border-radius:14px;
}

.grid{
display:grid;
grid-template-columns:1fr;
gap:12px;
}

input,select{
width:100%;
padding:12px;
border-radius:10px;
border:1px solid #ccc;
font-size:16px;
}

.productos{
display:grid;
grid-template-columns:repeat(auto-fill,minmax(170px,1fr));
gap:14px;
padding:12px;
}

.producto{
background:#fff;
border-radius:16px;
padding:14px;
box-shadow:0 6px 12px rgba(0,0,0,.08);
display:flex;
flex-direction:column;
justify-content:space-between;
}
.producto h3{
margin:0 0 8px;
font-size:16px;
}
.producto p{
margin:4px 0;
font-size:15px;
font-weight:600;
color:#0b8f6a;
}
.controls{
display:flex;
gap:8px;
margin-top:10px;
}
.controls button{
flex:1;
padding:10px;
font-size:18px;
border:none;
border-radius:10px;
background:#0b8f6a;
color:white;
font-weight:700;
}

/* CARRITO */
.carrito{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:#fff;
z-index:999;
padding:16px;
overflow:auto;
transform:translateY(100%);
transition:.35s;
}
.carrito.activo{transform:translateY(0);}

.carrito h2{
margin-top:10px;
}

.carrito-item{
display:flex;
justify-content:space-between;
align-items:center;
padding:10px 0;
border-bottom:1px solid #eee;
font-size:16px;
}
.carrito-item button{
padding:6px 10px;
font-size:16px;
border:none;
border-radius:8px;
background:#0b8f6a;
color:white;
margin-left:6px;
}

.carrito button.main{
margin-top:20px;
width:100%;
padding:14px;
font-size:18px;
border:none;
border-radius:14px;
background:#0b8f6a;
color:white;
font-weight:700;
}

/* SOPORTE */
.soporte{
position:fixed;
bottom:20px;
right:20px;
background:#25D366;
color:white;
padding:14px 18px;
border-radius:40px;
font-size:16px;
font-weight:700;
text-decoration:none;
box-shadow:0 6px 12px rgba(0,0,0,.3);
}

.alerta{
background:#ffe1e1;
color:#a40000;
padding:12px;
border-radius:10px;
margin-top:10px;
font-size:15px;
display:none;
}
</style>
</head>

<body>

<header>
<h1>LA MAYORISTA EXPRESS</h1>
<div class="top">
<span id="totalHeader">0 CUP</span>
<button onclick="toggleCarrito()">üõí <span id="count">0</span></button>
</div>
</header>

<section class="grid">
<input id="nombre" placeholder="Nombre completo">
<input id="telefono" placeholder="Tel√©fono">
<input id="direccion" placeholder="Direcci√≥n de entrega">
</section>

<section class="grid">
<select id="pago">
<option>CUP</option>
<option>USD</option>
<option>MLC</option>
<option>CRIPTO</option>
<option>TARJETA CL√ÅSICA</option>
</select>

<select id="entrega" onchange="verEntrega()">
<option>MENSAJER√çA</option>
<option>RECOGER EN TIENDA</option>
</select>

<div class="alerta" id="alertaEntrega">
üö´ Actualmente solo est√° disponible la entrega por mensajer√≠a.
</div>
</section>

<section class="productos" id="productos"></section>

<div class="carrito" id="carrito">
<button onclick="toggleCarrito()">‚ùå CERRAR</button>
<h2>üßæ FACTURA</h2>
<div id="lista"></div>
<h3>TOTAL: <span id="total">0</span> CUP</h3>
<button class="main" onclick="enviarWhatsApp()">üì≤ ENVIAR POR WHATSAPP</button>
</div>

<a class="soporte" href="https://wa.me/53420021?text=Hola%2C%20necesito%20ayuda">
üí¨ SOPORTE
</a>

<script>
const productos=[
{n:"Arroz 50kg",p:21560},
{n:"Az√∫car 50kg",p:23100},
{n:"Frijol Negro 50kg",p:21560},
{n:"Harina Ma√≠z 50kg",p:11550},
{n:"Aceite 12x1L",p:10080},
{n:"Leche Polvo 25kg",p:53900},
{n:"Sal 50kg",p:5775},
{n:"Pasta Caja",p:4900},
{n:"Huevos 300 uds",p:20300},
{n:"Pollo 10kg",p:5390},
{n:"Picadillo Caja",p:6160},
{n:"Salchicha 10kg",p:9240},
{n:"Margarina Caja",p:4700},
{n:"Galletas Caja",p:4704},
{n:"Caf√© 10kg",p:3696},
{n:"Lentejas 50kg",p:23100},
{n:"Arvejas 50kg",p:23100},
{n:"At√∫n Caja",p:4900},
{n:"Sardinas Caja",p:4900},
{n:"Aceite Oliva Caja",p:12600},
{n:"Vinagre Caja",p:840},
{n:"Cloro Caja",p:2100},
{n:"Detergente Caja",p:8400},
{n:"Jab√≥n Caja",p:7700},
{n:"Ajo 5kg",p:770},
{n:"Tomate 50kg",p:23100},
{n:"Manteca 20kg",p:18480},
{n:"Casabe Pack",p:315},
{n:"Verduras Mixtas 20kg",p:3080},
{n:"Frutas Variadas 20kg",p:3080}
];

let carrito=JSON.parse(localStorage.getItem("carrito"))||[];
const cont=document.getElementById("productos");

productos.forEach((x,i)=>{
cont.innerHTML+=`
<div class="producto">
<h3>${x.n}</h3>
<p>${x.p} CUP</p>
<div class="controls">
<button onclick="add(${i})">Ôºã</button>
<button onclick="remove(${i})">Ôºç</button>
</div>
</div>`;
});

function add(i){
let it=carrito.find(x=>x.n===productos[i].n);
if(it)it.c++;
else carrito.push({...productos[i],c:1});
guardar();
}
function remove(i){
let it=carrito.find(x=>x.n===productos[i].n);
if(it){it.c--;if(it.c<=0)carrito=carrito.filter(x=>x.n!==it.n);}
guardar();
}
function guardar(){
localStorage.setItem("carrito",JSON.stringify(carrito));
render();
}
function render(){
let html="",total=0,c=0;
carrito.forEach(x=>{
html+=`
<div class="carrito-item">
${x.n} x${x.c}
<div>
<button onclick="addBy('${x.n}')">+</button>
<button onclick="removeBy('${x.n}')">-</button>
</div>
</div>`;
total+=x.p*x.c;
c+=x.c;
});
document.getElementById("lista").innerHTML=html||"<p>Carrito vac√≠o</p>";
document.getElementById("total").innerText=total;
document.getElementById("totalHeader").innerText=total+" CUP";
document.getElementById("count").innerText=c;
}
function addBy(n){add(productos.findIndex(x=>x.n===n))}
function removeBy(n){remove(productos.findIndex(x=>x.n===n))}
function toggleCarrito(){carritoEl.classList.toggle("activo")}
const carritoEl=document.getElementById("carrito");
function verEntrega(){
if(entrega.value==="RECOGER EN TIENDA"){
alertaEntrega.style.display="block";
entrega.value="MENSAJER√çA";
}else alertaEntrega.style.display="none";
}
function enviarWhatsApp(){
let msg=`LA MAYORISTA EXPRESS%0ACliente: ${nombre.value}%0A`;
carrito.forEach(x=>msg+=`- ${x.n} x${x.c}%0A`);
msg+=`Total: ${total.innerText} CUP`;
window.open(`https://wa.me/53420021?text=${msg}`);
}
render();
</script>

</body>
</html>
