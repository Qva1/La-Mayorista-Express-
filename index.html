<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LA MAYORISTA EXPRESS</title>

<style>
:root{
--primary:#ff4d00;
--dark:#111;
--light:#fff;
--gray:#f4f4f4;
}

*{box-sizing:border-box}
body{
margin:0;
font-family:system-ui, -apple-system, BlinkMacSystemFont;
background:#fafafa;
color:#111;
}

header{
position:sticky;
top:0;
z-index:1000;
background:#fff;
display:flex;
justify-content:space-between;
align-items:center;
padding:12px;
box-shadow:0 2px 6px rgba(0,0,0,.1);
}

header h1{
font-size:18px;
margin:0;
color:var(--primary);
font-weight:800;
}

#cartBtn{
background:var(--primary);
color:#fff;
border:none;
padding:10px 14px;
border-radius:20px;
font-weight:700;
}

.container{
padding:12px;
}

.products{
display:grid;
grid-template-columns:repeat(2,1fr);
gap:12px;
}

.product{
background:#fff;
border-radius:14px;
padding:10px;
box-shadow:0 2px 6px rgba(0,0,0,.08);
display:flex;
flex-direction:column;
}

.product img{
width:100%;
height:120px;
object-fit:contain;
margin-bottom:6px;
}

.product h3{
font-size:14px;
margin:4px 0;
}

.product p{
font-size:12px;
margin:2px 0;
color:#555;
}

.product button{
margin-top:auto;
background:var(--primary);
border:none;
color:#fff;
padding:8px;
border-radius:10px;
font-weight:700;
}

#cart{
position:fixed;
top:0;
right:-100%;
width:100%;
max-width:380px;
height:100%;
background:#fff;
z-index:2000;
box-shadow:-2px 0 10px rgba(0,0,0,.2);
padding:14px;
transition:.3s;
overflow-y:auto;
}

#cart.show{right:0}

.cart-item{
font-size:13px;
margin-bottom:6px;
}

input,select{
width:100%;
padding:8px;
margin:6px 0;
border-radius:8px;
border:1px solid #ccc;
}

.total{
font-weight:800;
font-size:16px;
margin:10px 0;
}

.whatsapp{
background:#25D366;
color:#fff;
border:none;
padding:10px;
width:100%;
border-radius:10px;
font-weight:800;
}
</style>
</head>

<body>

<header>
<h1>LA MAYORISTA EXPRESS</h1>
<button id="cartBtn">üõí Carrito</button>
</header>

<div class="container">
<div class="products" id="products"></div>
</div>

<div id="cart">
<button onclick="toggleCart()">‚ùå Cerrar</button>

<h3>DATOS DEL CLIENTE</h3>
<input id="name" placeholder="Nombre completo">
<input id="phone" placeholder="Tel√©fono">

<select id="delivery">
<option>Recoger en tienda</option>
<option>Mensajer√≠a</option>
</select>

<select id="currency" onchange="updateTotal()">
<option value="CUP">CUP</option>
<option value="USD">USD</option>
<option value="MLC">MLC</option>
<option value="CLASICA">Tarjeta Cl√°sica</option>
</select>

<div id="cartItems"></div>
<div class="total" id="total"></div>

<button class="whatsapp" onclick="sendWhatsApp()">üì≤ Enviar pedido por WhatsApp</button>
</div>

<script>
// TASAS ACTUALIZADAS MERCADO INFORMAL (FEB 2026)
const rates={
CUP:1,
USD:495,
MLC:410,
CLASICA:410
};

const products=[
["Arroz 50kg",8500],["Az√∫car 50kg",7800],["Aceite caja 12L",9200],
["Leche polvo 25kg",18500],["Harina 50kg",8200],["Frijol negro 50kg",14000],
["Pollo caja 10kg",16000],["Huevos caja 30",4200],["Pasta caja 20kg",8900],
["Sal 50kg",2600],["Caf√© 10kg",12500],["Detergente 25kg",9800],
["Jab√≥n caja",7600],["Refresco caja",5400],["Galletas caja",6100],
["Arroz importado 50kg",9100],["Aceite girasol",9600],["Az√∫car prieta",7400],
["Harina ma√≠z",6900],["Carne molida",17800],
["Queso 10kg",14500],["Mantequilla",13500],["Mayonesa",7200],
["K√©tchup",6900],["Vinagre",3200],["Soya 25kg",8300],
["Leche l√≠quida",8800],["Cereal caja",9900],
["Az√∫car blanca",7900],["Arroz premium",9800]
];

let cart=JSON.parse(localStorage.getItem("cart")||"[]");

const productsDiv=document.getElementById("products");

products.forEach((p,i)=>{
productsDiv.innerHTML+=`
<div class="product">
<img src="https://via.placeholder.com/300?text=${encodeURIComponent(p[0])}">
<h3>${p[0]}</h3>
<p>M√≠nimo: 1 unidad</p>
<p>${p[1]} CUP</p>
<button onclick="addToCart(${i})">Agregar</button>
</div>`;
});

function addToCart(i){
cart.push(products[i]);
saveCart();
}

function saveCart(){
localStorage.setItem("cart",JSON.stringify(cart));
renderCart();
}

function renderCart(){
const c=document.getElementById("cartItems");
c.innerHTML="";
let sum=0;
cart.forEach(p=>{
sum+=p[1];
c.innerHTML+=`<div class="cart-item">${p[0]} - ${p[1]} CUP</div>`;
});
updateTotal(sum);
}

function updateTotal(base){
let total=base||cart.reduce((a,b)=>a+b[1],0);
let cur=document.getElementById("currency").value;
document.getElementById("total").innerText=
"TOTAL: "+(total/rates[cur]).toFixed(2)+" "+cur;
}

function toggleCart(){
document.getElementById("cart").classList.toggle("show");
}

document.getElementById("cartBtn").onclick=toggleCart;

function sendWhatsApp(){
let msg="PEDIDO LA MAYORISTA EXPRESS\n";
cart.forEach(p=>msg+=p[0]+" - "+p[1]+" CUP\n");
msg+="Cliente: "+name.value+"\n";
msg+="Tel: "+phone.value+"\n";
msg+="Pago: "+currency.value+"\n";
msg+="Entrega: "+delivery.value+"\n";
msg+=total.innerText;
window.open("https://wa.me/53420021?text="+encodeURIComponent(msg));
}

renderCart();
</script>

</body>
</html>
