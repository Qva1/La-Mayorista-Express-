<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LA MAYORISTA EXPRESS</title>

<style>
body{
margin:0;
font-family:Arial,Helvetica,sans-serif;
background:#f2f2f2;
}
header{
background:#0b8f6a;
color:white;
padding:12px;
display:flex;
justify-content:space-between;
align-items:center;
position:sticky;
top:0;
z-index:10;
}
header h1{font-size:16px;margin:0;}
header .top{
display:flex;
gap:10px;
align-items:center;
}
header button{
background:#fff;
color:#0b8f6a;
border:none;
padding:6px 10px;
border-radius:5px;
font-size:13px;
}

section{
padding:12px;
background:white;
margin-bottom:10px;
border-radius:10px;
}

.grid-2{
display:grid;
grid-template-columns:1fr 1fr;
gap:10px;
}

input,select{
width:100%;
padding:8px;
margin-top:5px;
border-radius:6px;
border:1px solid #ccc;
font-size:13px;
}

.productos{
display:grid;
grid-template-columns:repeat(2,1fr);
gap:10px;
}

.producto{
background:#fff;
border-radius:10px;
padding:10px;
box-shadow:0 0 5px rgba(0,0,0,.1);
font-size:13px;
}
.producto h3{margin:5px 0;font-size:14px;}
.producto .controls{
display:flex;
gap:5px;
}
.producto button{
flex:1;
padding:6px;
background:#0b8f6a;
color:white;
border:none;
border-radius:5px;
}

/* CARRITO FULLSCREEN */
.carrito{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:white;
z-index:999;
padding:15px;
overflow:auto;
transform:translateY(100%);
transition:.3s;
}
.carrito.activo{transform:translateY(0);}

.carrito-item{
display:flex;
justify-content:space-between;
align-items:center;
border-bottom:1px solid #eee;
padding:6px 0;
font-size:13px;
}

.carrito-item button{
padding:3px 6px;
font-size:12px;
}

/* SOPORTE */
.soporte{
position:fixed;
bottom:15px;
right:15px;
background:#25D366;
color:white;
padding:12px 16px;
border-radius:30px;
font-size:14px;
text-decoration:none;
box-shadow:0 4px 8px rgba(0,0,0,.3);
}
.alerta{
background:#ffe1e1;
color:#a40000;
padding:8px;
border-radius:6px;
font-size:13px;
margin-top:8px;
display:none;
}
</style>
</head>

<body>

<header>
<h1>LA MAYORISTA EXPRESS</h1>
<div class="top">
<span id="totalHeader">0 CUP</span>
<button onclick="toggleCarrito()">üõí <span id="count">0</span></button>
</div>
</header>

<section class="grid-2">
<div>
<input id="nombre" placeholder="Nombre">
<input id="telefono" placeholder="Tel√©fono">
</div>
<div>
<input id="direccion" placeholder="Direcci√≥n">
</div>
</section>

<section>
<select id="pago">
<option>CUP</option>
<option>USD</option>
<option>MLC</option>
<option>CRIPTO</option>
<option>TARJETA CL√ÅSICA</option>
</select>

<select id="entrega" onchange="verEntrega()">
<option>MENSAJER√çA</option>
<option>RECOGER EN TIENDA</option>
</select>
<div class="alerta" id="alertaEntrega">
üö´ Actualmente solo est√° disponible la entrega por mensajer√≠a.
</div>
</section>

<section class="productos" id="productos"></section>

<div class="carrito" id="carrito">
<button onclick="toggleCarrito()">‚ùå CERRAR</button>
<h2>üßæ FACTURA</h2>
<div id="lista"></div>
<h3>TOTAL: <span id="total">0</span> CUP</h3>
<button onclick="enviarWhatsApp()">üì≤ ENVIAR POR WHATSAPP</button>
</div>

<a class="soporte" href="https://wa.me/53420021?text=Hola%2C%20necesito%20ayuda">
üí¨ SOPORTE
</a>

<script>
const productos=[
{n:"Arroz 50kg",p:21560},
{n:"Az√∫car 50kg",p:23100},
{n:"Aceite 12x1L",p:10080},
{n:"Leche Polvo 25kg",p:53900},
{n:"Frijol 50kg",p:21560},
{n:"Pasta Caja",p:4900},
{n:"Huevos 300",p:20300},
{n:"Pollo 10kg",p:5390},
{n:"Detergente Caja",p:8400},
{n:"Jab√≥n Caja",p:7700}
];

let carrito=JSON.parse(localStorage.getItem("carrito"))||[];

const cont=document.getElementById("productos");

productos.forEach((x,i)=>{
cont.innerHTML+=`
<div class="producto">
<h3>${x.n}</h3>
<p>${x.p} CUP</p>
<div class="controls">
<button onclick="add(${i})">‚ûï</button>
<button onclick="remove(${i})">‚ûñ</button>
</div>
</div>`;
});

function add(i){
let item=carrito.find(x=>x.n===productos[i].n);
if(item)item.c++;
else carrito.push({...productos[i],c:1});
guardar();
}
function remove(i){
let item=carrito.find(x=>x.n===productos[i].n);
if(item){
item.c--;
if(item.c<=0)carrito=carrito.filter(x=>x.n!==item.n);
}
guardar();
}
function guardar(){
localStorage.setItem("carrito",JSON.stringify(carrito));
render();
}
function render(){
let lista="",total=0,c=0;
carrito.forEach(x=>{
lista+=`
<div class="carrito-item">
${x.n} (${x.c})
<div>
<button onclick="addByName('${x.n}')">+</button>
<button onclick="removeByName('${x.n}')">-</button>
</div>
</div>`;
total+=x.p*x.c;
c+=x.c;
});
lista=lista||"<p>Carrito vac√≠o</p>";
document.getElementById("lista").innerHTML=lista;
document.getElementById("total").innerText=total;
document.getElementById("totalHeader").innerText=total+" CUP";
document.getElementById("count").innerText=c;
}
function addByName(n){
let i=productos.findIndex(x=>x.n===n);
add(i);
}
function removeByName(n){
let i=productos.findIndex(x=>x.n===n);
remove(i);
}
function toggleCarrito(){
document.getElementById("carrito").classList.toggle("activo");
}
function verEntrega(){
if(entrega.value==="RECOGER EN TIENDA"){
alertaEntrega.style.display="block";
entrega.value="MENSAJER√çA";
}else alertaEntrega.style.display="none";
}
function enviarWhatsApp(){
let msg=`LA MAYORISTA EXPRESS%0ACliente: ${nombre.value}%0A`;
carrito.forEach(x=>msg+=`- ${x.n} x${x.c}%0A`);
msg+=`Total: ${total.innerText} CUP`;
window.open(`https://wa.me/53420021?text=${msg}`);
}
render();
</script>

</body>
  </html>
