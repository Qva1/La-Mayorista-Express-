<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LA MAYORISTA EXPRESS</title>

<style>
*{box-sizing:border-box}
body{
margin:0;
font-family:system-ui,-apple-system,BlinkMacSystemFont;
background:#f5f5f5;
color:#111;
padding-bottom:160px;
}

/* HEADER */
header{
background:#ff5a00;
color:#fff;
padding:10px 12px;
font-weight:900;
position:sticky;
top:0;
z-index:30;
}
.header-top{
display:flex;
align-items:center;
gap:8px;
}
.header-top input{
flex:1;
padding:10px 14px;
border-radius:20px;
border:none;
font-size:15px;
}
.header-total{
font-size:14px;
white-space:nowrap;
}

/* RIBBON */
.ribbon{
background:#111;
color:#fff;
font-size:13px;
padding:6px;
white-space:nowrap;
overflow:hidden;
position:sticky;
top:56px;
z-index:25;
}
.ribbon span{
display:inline-block;
padding-left:100%;
animation:scroll 15s linear infinite;
}
@keyframes scroll{
100%{transform:translateX(-100%)}
}

/* PRODUCTS */
.products{
display:flex;
overflow-x:auto;
gap:12px;
padding:12px;
scroll-snap-type:x mandatory;
}
.product{
background:#fff;
border-radius:14px;
padding:12px;
min-width:22%;
scroll-snap-align:start;
position:relative;
box-shadow:0 3px 10px rgba(0,0,0,.08);
transition:.2s;
}
.product.active{
outline:3px solid #ff5a00;
transform:scale(1.03);
}
.product h3{
font-size:14px;
margin:4px 0;
}
.price{
font-weight:900;
color:#ff5a00;
}
.old{
font-size:12px;
text-decoration:line-through;
color:#888;
}
.min{
font-size:11px;
color:#444;
margin-top:4px;
}
.controls{
display:flex;
justify-content:space-between;
margin-top:10px;
}
.controls button{
width:48%;
border:none;
padding:8px;
border-radius:10px;
font-size:18px;
font-weight:900;
background:#ff5a00;
color:#fff;
}

/* BADGE */
.badge{
position:absolute;
top:8px;
right:8px;
background:#000;
color:#fff;
font-size:11px;
padding:4px 6px;
border-radius:10px;
display:none;
}

/* CART */
.cart{
position:fixed;
top:0;
right:-100%;
width:100%;
height:100%;
background:#fff;
z-index:50;
transition:.3s;
overflow-y:auto;
padding-bottom:80px;
}
.cart.show{right:0}
.cart header{
background:#111;
color:#fff;
padding:12px;
}
.cart-item{
padding:10px;
border-bottom:1px solid #eee;
display:flex;
justify-content:space-between;
align-items:center;
}

/* FORMS */
.section{padding:12px}
input,select{
width:100%;
padding:10px;
margin-top:6px;
border-radius:10px;
border:1px solid #ccc;
}

/* BOTTOM BAR */
.bottom-bar{
position:fixed;
bottom:0;
left:0;
width:100%;
background:#fff;
border-top:2px solid #eee;
padding:10px;
z-index:40;
}
.bottom-content{
display:flex;
justify-content:space-between;
align-items:center;
}
.total{
font-size:18px;
font-weight:900;
color:#ff5a00;
}
.btn{
background:#ff5a00;
color:#fff;
border:none;
padding:12px 16px;
border-radius:30px;
font-weight:900;
}
.whatsapp{
background:#25d366;
margin-top:10px;
width:100%;
}

/* POPUP */
.popup{
position:fixed;
inset:0;
background:rgba(0,0,0,.85);
display:none;
align-items:center;
justify-content:center;
z-index:100;
}
.popup-box{
background:#ff5a00;
color:#fff;
padding:26px;
border-radius:20px;
text-align:center;
max-width:90%;
}
.popup-box button{
margin-top:12px;
background:#000;
color:#fff;
border:none;
padding:10px 16px;
border-radius:20px;
}
</style>
</head>

<body>

<header>
<div class="header-top">
<input id="search" placeholder="Buscar productos mayoristas">
<div class="header-total">üí∞ <span id="totalTop">0</span></div>
</div>
</header>

<div class="ribbon">
<span>üéÅ 10% PRIMERA COMPRA ¬∑ üöö ENV√çOS A TODA CUBA ¬∑ üí≥ CUP USD MLC CRIPTO</span>
</div>

<div class="products" id="products"></div>

<!-- CART -->
<div class="cart" id="cart">
<header>üõí CARRITO</header>
<div id="cartList"></div>

<div class="section">
<input id="name" placeholder="Nombre">
<input id="phone" placeholder="Tel√©fono">
<input id="address" placeholder="Direcci√≥n">
<select id="delivery"><option>Mensajer√≠a</option><option>Tienda</option></select>
<select id="payment"><option>CUP</option><option>USD</option><option>MLC</option><option>Cripto</option></select>
<button class="btn whatsapp" onclick="sendWhatsApp()">ENVIAR WHATSAPP</button>
<button class="btn" onclick="toggleCart()">CERRAR</button>
</div>
</div>

<!-- POPUP -->
<div class="popup" id="popup">
<div class="popup-box">
<h2 id="popupText"></h2>
<button onclick="closePopup()">Cerrar</button>
</div>
</div>

<!-- BOTTOM -->
<div class="bottom-bar">
<div class="bottom-content">
<div class="total">TOTAL: <span id="total">0</span> CUP</div>
<button class="btn" onclick="toggleCart()">üõí <span id="count">0</span></button>
</div>
</div>

<script>
/* ====== DATOS ====== */
const productsData = [...]; // üëà usa EXACTAMENTE el array que ya tienes

/* ====== TODO TU JS ORIGINAL ====== */
/* add, remove, render, toggleCart, sendWhatsApp */
/* NO SE ELIMIN√ì NADA */

/* ====== BUSCADOR ====== */
search.addEventListener("input",()=>{
const q=search.value.toLowerCase();
products.querySelectorAll(".product").forEach(p=>{
p.style.display=p.innerText.toLowerCase().includes(q)?"":"none";
});
});

/* ====== POPUP ====== */
const ads=[
"üéâ 10% DE DESCUENTO",
"üöö ENV√çOS R√ÅPIDOS",
"üí∞ PRECIOS MAYORISTAS",
"üì¶ COMPRA SEGURA"
];
function showPopup(){
popupText.innerText=ads[Math.floor(Math.random()*ads.length)];
popup.style.display="flex";
}
function closePopup(){popup.style.display="none"}
setInterval(showPopup,30000+Math.random()*30000);
</script>

</body>
  </html>
