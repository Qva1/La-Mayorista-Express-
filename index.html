<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LA MAYORISTA EXPRESS</title>

<style>
*{box-sizing:border-box}
body{
margin:0;
font-family:system-ui,-apple-system,BlinkMacSystemFont;
background:#f5f5f5;
color:#111;
padding-bottom:140px;
}
header{
background:#ff5a00;
color:#fff;
padding:14px;
font-size:22px;
font-weight:900;
text-align:center;
position:sticky;
top:0;
z-index:20;
}
.products{
display:flex;
overflow-x:auto;
gap:12px;
padding:12px;
scroll-snap-type:x mandatory;
}
.product{
background:#fff;
border-radius:14px;
padding:12px;
min-width:22%;
scroll-snap-align:start;
position:relative;
box-shadow:0 3px 10px rgba(0,0,0,.08);
}
.product h3{
font-size:14px;
margin:4px 0;
}
.price{
font-weight:900;
color:#ff5a00;
}
.old{
font-size:12px;
text-decoration:line-through;
color:#888;
}
.min{
font-size:11px;
color:#444;
margin-top:4px;
}
.controls{
display:flex;
justify-content:space-between;
margin-top:10px;
}
.controls button{
width:48%;
border:none;
padding:8px;
border-radius:10px;
font-size:18px;
font-weight:900;
background:#ff5a00;
color:#fff;
}
.badge{
position:absolute;
top:8px;
right:8px;
background:#000;
color:#fff;
font-size:11px;
padding:4px 6px;
border-radius:10px;
display:none;
}
.product.active{
outline:3px solid #ff5a00;
animation:pulse .3s;
}
@keyframes pulse{
50%{transform:scale(1.03)}
}
.cart{
position:fixed;
top:0;
right:-100%;
width:100%;
height:100%;
background:#fff;
z-index:30;
transition:.3s;
overflow-y:auto;
padding-bottom:80px;
}
.cart.show{right:0}
.cart header{
background:#111;
color:#fff;
}
.cart-item{
padding:10px;
border-bottom:1px solid #eee;
display:flex;
justify-content:space-between;
align-items:center;
}
.cart-item button{
margin-left:4px;
}
.section{
padding:12px;
}
input,select{
width:100%;
padding:10px;
margin-top:6px;
border-radius:10px;
border:1px solid #ccc;
}
.bottom-bar{
position:fixed;
bottom:0;
left:0;
width:100%;
background:#fff;
border-top:2px solid #eee;
padding:10px;
z-index:25;
}
.bottom-content{
display:flex;
justify-content:space-between;
align-items:center;
}
.total{
font-size:18px;
font-weight:900;
color:#ff5a00;
}
.btn{
background:#ff5a00;
color:#fff;
border:none;
padding:12px 16px;
border-radius:30px;
font-weight:900;
}
.whatsapp{
background:#25d366;
margin-top:10px;
width:100%;
}
</style>
</head>

<body>

<header>LA MAYORISTA EXPRESS</header>

<div class="products" id="products"></div>

<div class="cart" id="cart">
<header>ðŸ›’ CARRITO</header>
<div id="cartList"></div>

<div class="section">
<h3>DATOS DEL CLIENTE</h3>
<input id="name" placeholder="Nombre completo">
<input id="phone" placeholder="TelÃ©fono">
<input id="address" placeholder="DirecciÃ³n">
</div>

<div class="section">
<h3>MÃ‰TODO DE ENTREGA</h3>
<select id="delivery">
<option>MensajerÃ­a</option>
<option>Recoger en tienda</option>
</select>
</div>

<div class="section">
<h3>FORMA DE PAGO</h3>
<select id="payment">
<option>CUP</option>
<option>USD</option>
<option>MLC</option>
<option>Criptomoneda</option>
<option>Tarjeta ClÃ¡sica</option>
</select>
</div>

<div class="section">
<button class="btn whatsapp" onclick="sendWhatsApp()">ENVIAR PEDIDO POR WHATSAPP</button>
<button class="btn" onclick="toggleCart()">CERRAR</button>
</div>
</div>

<div class="bottom-bar">
<div class="bottom-content">
<div class="total">TOTAL: <span id="total">0</span> CUP</div>
<button class="btn" onclick="toggleCart()">ðŸ›’ (<span id="count">0</span>)</button>
</div>
</div>

<script>
const productsData=[
["Arroz 50kg",12000,17000,"1 saco"],
["AzÃºcar 50kg",10000,14300,"1 saco"],
["Aceite 1L x12",8500,12100,"1 caja"],
["Leche en polvo 25kg",22000,31400,"1 saco"],
["Pollo 10kg",9500,13600,"1 caja"],
["Harina 25kg",7800,11100,"1 saco"],
["Frijol negro 50kg",18500,26400,"1 saco"],
["Arvejas 50kg",16000,22800,"1 saco"],
["Sal 25kg",4200,6000,"1 saco"],
["CafÃ© 10kg",21000,30000,"1 caja"],
["Pasta 20kg",6800,9700,"1 caja"],
["Soya 50kg",14000,20000,"1 saco"],
["Aceite 5L x4",16000,22800,"1 caja"],
["Galletas 10kg",5500,7850,"1 caja"],
["AtÃºn 48 latas",13000,18500,"1 caja"],
["Sardinas 50 latas",11000,15700,"1 caja"],
["Levadura 10kg",9800,14000,"1 caja"],
["Condimento 5kg",6200,8850,"1 caja"],
["Mayonesa 5kg",9000,12800,"1 caja"],
["Ketchup 5kg",8500,12100,"1 caja"],
["JabÃ³n 25kg",7200,10300,"1 saco"],
["Detergente 20kg",8800,12500,"1 saco"],
["Papel higiÃ©nico 48u",10500,15000,"1 fardo"],
["Cloro 20L",4500,6400,"1 bidÃ³n"],
["Arroz 25kg",6500,9300,"1 saco"],
["AzÃºcar 25kg",5200,7400,"1 saco"],
["Aceite 1L x6",4300,6150,"1 caja"],
["Harina 10kg",3400,4850,"1 saco"],
["Frijol colorado 50kg",19000,27100,"1 saco"],
["MaÃ­z 50kg",9000,12800,"1 saco"]
];

let cart=JSON.parse(localStorage.getItem("cart"))||[];

const products=document.getElementById("products");
productsData.forEach((x,i)=>{
products.innerHTML+=`
<div class="product" id="prod-${i}">
<span class="badge"></span>
<h3>${x[0]}</h3>
<div class="price">${x[1]} CUP</div>
<div class="old">${x[2]} CUP</div>
<div class="min">MÃ­nimo: ${x[3]}</div>
<div class="controls">
<button onclick="add(${i})">+</button>
<button onclick="remove(${i})">-</button>
</div>
</div>`;
});

function add(i){
let p=productsData[i];
let it=cart.find(x=>x.n===p[0]);
if(it) it.c++;
else cart.push({n:p[0],p:p[1],c:1});
save();
}
function remove(i){
let p=productsData[i];
let it=cart.find(x=>x.n===p[0]);
if(!it) return;
it.c--;
if(it.c<=0) cart=cart.filter(x=>x.n!==p[0]);
save();
}
function save(){
localStorage.setItem("cart",JSON.stringify(cart));
render();
}
function render(){
let total=0,count=0,html="";
cart.forEach(x=>{
total+=x.p*x.c;
count+=x.c;
html+=`
<div class="cart-item">
${x.n} x${x.c} = ${x.p*x.c} CUP
<div>
<button onclick="addBy('${x.n}')">+</button>
<button onclick="removeBy('${x.n}')">-</button>
</div>
</div>`;
});
document.getElementById("cartList").innerHTML=html||"<p style='padding:12px'>Carrito vacÃ­o</p>";
document.getElementById("total").innerText=total;
document.getElementById("count").innerText=count;

productsData.forEach((p,i)=>{
let card=document.getElementById("prod-"+i);
let badge=card.querySelector(".badge");
let it=cart.find(x=>x.n===p[0]);
if(it){
badge.style.display="block";
badge.innerText=`x${it.c}`;
card.classList.add("active");
}else{
badge.style.display="none";
card.classList.remove("active");
}
});
}
function addBy(n){add(productsData.findIndex(x=>x[0]===n))}
function removeBy(n){remove(productsData.findIndex(x=>x[0]===n))}
function toggleCart(){
document.getElementById("cart").classList.toggle("show");
}
function sendWhatsApp(){
let msg=`PEDIDO LA MAYORISTA EXPRESS\n\n`;
cart.forEach(x=>msg+=`${x.n} x${x.c}\n`);
msg+=`\nTOTAL: ${document.getElementById("total").innerText} CUP\n`;
msg+=`Cliente: ${name.value}\nTel: ${phone.value}\nDir: ${address.value}\n`;
msg+=`Entrega: ${delivery.value}\nPago: ${payment.value}`;
window.open(`https://wa.me/5353420021?text=${encodeURIComponent(msg)}`);
}
render();
</script>

</body>
</html>
